{"remainingRequest":"F:\\BaiduNetdiskDownload\\0417jiaxiao\\springboot7e8wi\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\BaiduNetdiskDownload\\0417jiaxiao\\springboot7e8wi\\src\\main\\resources\\front\\front\\src\\pages\\calendar\\calendar.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\BaiduNetdiskDownload\\0417jiaxiao\\springboot7e8wi\\src\\main\\resources\\front\\front\\src\\pages\\calendar\\calendar.vue","mtime":1744969059260},{"path":"F:\\BaiduNetdiskDownload\\0417jiaxiao\\springboot7e8wi\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\0417jiaxiao\\springboot7e8wi\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"F:\\BaiduNetdiskDownload\\0417jiaxiao\\springboot7e8wi\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\BaiduNetdiskDownload\\0417jiaxiao\\springboot7e8wi\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGN1cnJlbnREYXRlOiBuZXcgRGF0ZSgpLA0KICAgICAgdG9kb3M6IFtdDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBjdXJyZW50WWVhcigpIHsNCiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgfSwNCiAgICBjdXJyZW50TW9udGgoKSB7DQogICAgICByZXR1cm4gdGhpcy5jdXJyZW50RGF0ZS5nZXRNb250aCgpOw0KICAgIH0sDQogICAgd2Vla3MoKSB7DQogICAgICBjb25zdCBmaXJzdERheSA9IG5ldyBEYXRlKHRoaXMuY3VycmVudFllYXIsIHRoaXMuY3VycmVudE1vbnRoLCAxKTsNCiAgICAgIGNvbnN0IGxhc3REYXkgPSBuZXcgRGF0ZSh0aGlzLmN1cnJlbnRZZWFyLCB0aGlzLmN1cnJlbnRNb250aCArIDEsIDApOw0KICAgICAgY29uc3QgZGF5c0luTW9udGggPSBsYXN0RGF5LmdldERhdGUoKTsNCiAgICAgIGNvbnN0IHN0YXJ0aW5nRGF5ID0gZmlyc3REYXkuZ2V0RGF5KCk7DQoNCiAgICAgIGNvbnN0IHdlZWtzQXJyYXkgPSBbXTsNCiAgICAgIGxldCBjdXJyZW50V2VlayA9IFtdOw0KDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJ0aW5nRGF5OyBpKyspIHsNCiAgICAgICAgY3VycmVudFdlZWsucHVzaChudWxsKTsNCiAgICAgIH0NCg0KICAgICAgZm9yIChsZXQgZGF5ID0gMTsgZGF5IDw9IGRheXNJbk1vbnRoOyBkYXkrKykgew0KICAgICAgICBjb25zdCBjdXJyZW50RGF0ZU9iaiA9IG5ldyBEYXRlKHRoaXMuY3VycmVudFllYXIsIHRoaXMuY3VycmVudE1vbnRoLCBkYXkpOw0KICAgICAgICBjdXJyZW50V2Vlay5wdXNoKGN1cnJlbnREYXRlT2JqKTsNCg0KICAgICAgICBpZiAoY3VycmVudFdlZWsubGVuZ3RoID09PSA3KSB7DQogICAgICAgICAgd2Vla3NBcnJheS5wdXNoKGN1cnJlbnRXZWVrKTsNCiAgICAgICAgICBjdXJyZW50V2VlayA9IFtdOw0KICAgICAgICB9DQogICAgICB9DQoNCiAgICAgIGlmIChjdXJyZW50V2Vlay5sZW5ndGggPiAwKSB7DQogICAgICAgIHdoaWxlIChjdXJyZW50V2Vlay5sZW5ndGggPCA3KSB7DQogICAgICAgICAgY3VycmVudFdlZWsucHVzaChudWxsKTsNCiAgICAgICAgfQ0KICAgICAgICB3ZWVrc0FycmF5LnB1c2goY3VycmVudFdlZWspOw0KICAgICAgfQ0KDQogICAgICByZXR1cm4gd2Vla3NBcnJheTsNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy4kaHR0cC5nZXQoJy95dXl1ZXhpbnhpL3JpbGlsaXN0Jywge30pLnRoZW4ocmVzID0+IHsNCiAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgdGhpcy5kZXRhaWwgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICB0aGlzLnRpdGxlID0gdGhpcy5kZXRhaWwuY2hlbGlhbmdtaW5nY2hlbmc7DQogICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7DQogICAgICB9DQogICAgfSk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0KCl7DQogICAgICB0aGlzLiRodHRwLmdldCgnL3l1eXVleGlueGkvcmlsaWxpc3QnLCB7fSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7DQogICAgICAgICAgdGhpcy5kZXRhaWwgPSByZXMuZGF0YS5kYXRhOw0KICAgICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLmRldGFpbC5jaGVsaWFuZ21pbmdjaGVuZzsNCiAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhc1RvZG8oZGF0ZSkgew0KICAgICAgaWYgKCFkYXRlKSByZXR1cm4gZmFsc2U7DQogICAgICByZXR1cm4gdGhpcy50b2Rvcy5zb21lKHRvZG8gPT4gbmV3IERhdGUodG9kby5kYXRlKS5nZXRUaW1lKCkgPT09IGRhdGUuZ2V0VGltZSgpKTsNCiAgICB9LA0KICAgIGdldFRvZG9zRm9yRGF5KGRhdGUpIHsNCiAgICAgIHJldHVybiB0aGlzLnRvZG9zLmZpbHRlcih0b2RvID0+IG5ldyBEYXRlKHRvZG8uZGF0ZSkuZ2V0VGltZSgpID09PSBkYXRlLmdldFRpbWUoKSk7DQogICAgfSwNCiAgICBwcmV2TW9udGgoKSB7DQogICAgICBpZiAodGhpcy5jdXJyZW50TW9udGggPT09IDApIHsNCiAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG5ldyBEYXRlKHRoaXMuY3VycmVudFllYXIgLSAxLCAxMSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbmV3IERhdGUodGhpcy5jdXJyZW50WWVhciwgdGhpcy5jdXJyZW50TW9udGggLSAxKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuZmV0Y2hUb2RvcygpOw0KICAgIH0sDQogICAgbmV4dE1vbnRoKCkgew0KICAgICAgaWYgKHRoaXMuY3VycmVudE1vbnRoID09PSAxMSkgew0KICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gbmV3IERhdGUodGhpcy5jdXJyZW50WWVhciArIDEsIDApOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG5ldyBEYXRlKHRoaXMuY3VycmVudFllYXIsIHRoaXMuY3VycmVudE1vbnRoICsgMSk7DQogICAgICB9DQogICAgICB0aGlzLmZldGNoVG9kb3MoKTsNCiAgICB9LA0KICAgIGZldGNoVG9kb3MoKSB7DQogICAgICAvKiB0aGlzLiRodHRwLmdldCgnL3l1eXVleGlueGkvcmlsaWxpc3QnLCB7DQogICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgIH0NCiAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgIHRoaXMudG9kb3MgPSByZXNwb25zZS5ib2R5Ow0KICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluW+heWKnuS6i+mhueaVsOaNruWksei0pTonLCBlcnJvcik7DQogICAgICAgfSk7Ki8NCiAgICAgIHRoaXMuJGh0dHAucG9zdCgnL3l1eXVleGlueGkvcmlsaWxpc3QnKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgICB0aGlzLmlzU3RvcmV1cCA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOaIkOWKnyEnLA0KICAgICAgICAgICAgZHVyYXRpb246IDE1MDAsDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0NCiAgfSwNCn07DQo="},{"version":3,"sources":["calendar.vue"],"names":[],"mappings":";AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"calendar.vue","sourceRoot":"src/pages/calendar","sourcesContent":["<template>\r\n  <div class=\"calendar-container\">\r\n    <div class=\"calendar-header\">\r\n      <button @click=\"prevMonth\">上一月</button>\r\n      <h2>{{ currentYear }} 年 {{ currentMonth + 1 }} 月</h2>\r\n      <button @click=\"nextMonth\">下一月</button>\r\n    </div>\r\n    <table class=\"calendar-table\">\r\n      <thead>\r\n      <tr>\r\n        <th>周日</th>\r\n        <th>周一</th>\r\n        <th>周二</th>\r\n        <th>周三</th>\r\n        <th>周四</th>\r\n        <th>周五</th>\r\n        <th>周六</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"(week, weekIndex) in weeks\" :key=\"weekIndex\">\r\n        <td v-for=\"(day, dayIndex) in week\" :key=\"dayIndex\" :class=\"{ 'has-todo': hasTodo(day) }\">\r\n          <span>{{ day ? day.getDate() : '' }}</span>\r\n          <ul v-if=\"hasTodo(day)\">\r\n            <li v-for=\"todo in getTodosForDay(day)\" :key=\"todo.id\">{{ todo.title }}</li>\r\n          </ul>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      currentDate: new Date(),\r\n      todos: []\r\n    };\r\n  },\r\n  computed: {\r\n    currentYear() {\r\n      return this.currentDate.getFullYear();\r\n    },\r\n    currentMonth() {\r\n      return this.currentDate.getMonth();\r\n    },\r\n    weeks() {\r\n      const firstDay = new Date(this.currentYear, this.currentMonth, 1);\r\n      const lastDay = new Date(this.currentYear, this.currentMonth + 1, 0);\r\n      const daysInMonth = lastDay.getDate();\r\n      const startingDay = firstDay.getDay();\r\n\r\n      const weeksArray = [];\r\n      let currentWeek = [];\r\n\r\n      for (let i = 0; i < startingDay; i++) {\r\n        currentWeek.push(null);\r\n      }\r\n\r\n      for (let day = 1; day <= daysInMonth; day++) {\r\n        const currentDateObj = new Date(this.currentYear, this.currentMonth, day);\r\n        currentWeek.push(currentDateObj);\r\n\r\n        if (currentWeek.length === 7) {\r\n          weeksArray.push(currentWeek);\r\n          currentWeek = [];\r\n        }\r\n      }\r\n\r\n      if (currentWeek.length > 0) {\r\n        while (currentWeek.length < 7) {\r\n          currentWeek.push(null);\r\n        }\r\n        weeksArray.push(currentWeek);\r\n      }\r\n\r\n      return weeksArray;\r\n    }\r\n  },\r\n  created() {\r\n    this.$http.get('/yuyuexinxi/rililist', {}).then(res => {\r\n      if (res.data.code == 0) {\r\n        this.detail = res.data.data;\r\n        this.title = this.detail.cheliangmingcheng;\r\n        this.$forceUpdate();\r\n      }\r\n    });\r\n  },\r\n  methods: {\r\n    init(){\r\n      this.$http.get('/yuyuexinxi/rililist', {}).then(res => {\r\n        if (res.data.code == 0) {\r\n          this.detail = res.data.data;\r\n          this.title = this.detail.cheliangmingcheng;\r\n          this.$forceUpdate();\r\n        }\r\n      });\r\n    },\r\n    hasTodo(date) {\r\n      if (!date) return false;\r\n      return this.todos.some(todo => new Date(todo.date).getTime() === date.getTime());\r\n    },\r\n    getTodosForDay(date) {\r\n      return this.todos.filter(todo => new Date(todo.date).getTime() === date.getTime());\r\n    },\r\n    prevMonth() {\r\n      if (this.currentMonth === 0) {\r\n        this.currentDate = new Date(this.currentYear - 1, 11);\r\n      } else {\r\n        this.currentDate = new Date(this.currentYear, this.currentMonth - 1);\r\n      }\r\n      this.fetchTodos();\r\n    },\r\n    nextMonth() {\r\n      if (this.currentMonth === 11) {\r\n        this.currentDate = new Date(this.currentYear + 1, 0);\r\n      } else {\r\n        this.currentDate = new Date(this.currentYear, this.currentMonth + 1);\r\n      }\r\n      this.fetchTodos();\r\n    },\r\n    fetchTodos() {\r\n      /* this.$http.get('/yuyuexinxi/rililist', {\r\n         params: {\r\n         }\r\n       }).then(response => {\r\n         this.todos = response.body;\r\n       }).catch(error => {\r\n         console.error('获取待办事项数据失败:', error);\r\n       });*/\r\n      this.$http.post('/yuyuexinxi/rililist').then(res => {\r\n        if (res.data.code == 0) {\r\n          this.isStoreup = false;\r\n          this.$message({\r\n            type: 'success',\r\n            message: '取消成功!',\r\n            duration: 1500,\r\n          });\r\n        }\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.calendar-container {\r\n  font-family: Arial, sans-serif;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.calendar-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.calendar-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.calendar-table th,\r\n.calendar-table td {\r\n  border: 1px solid #ccc;\r\n  padding: 8px;\r\n  text-align: center;\r\n}\r\n\r\n.has-todo {\r\n  background-color: #e0f7fa;\r\n}\r\n\r\n.has-todo ul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.has-todo li {\r\n  font-size: 0.8em;\r\n}\r\n</style>\r\n"]}]}